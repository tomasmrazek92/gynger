"use strict";(()=>{function c(){let i=[];return $(".solutions-filter_row-checkbox").each(function(){let t=$(this),e=t.attr("data-slug");if(!e){console.warn("Missing slug for element:",t);return}let s=new Promise(n=>{t.siblings(".solutions-filter_nest").load(`/global-tags/${e} .solutions-filter_row-inner`,function(){n()})});i.push(s)}),Promise.all(i)}function o(i){let t=[];return i.find(".index_card").each(function(){let e=$(this),s=e.attr("data-slug");if(!s)return;let n=new Promise(l=>{e.find("[data-nested-wrap]").load(`/solutions-internal/${s} [data-nested-filters]`,function(){l()})});t.push(n)}),Promise.all(t)}window.fsAttributes=window.fsAttributes||[];-window.fsAttributes.cmsload.init();window.fsAttributes.push(["cmsload",async i=>{console.log("1. CMS Load initialized");let[t]=i;try{if(console.log("2. Loading nested content..."),await c(),t&&t.items){let s=$(t.items).map(function(){return $(this.element)}).get();await Promise.all(s.map(o))}console.log("3. All nested content loaded, initializing CMS Filter"),await window.fsAttributes.cmsfilter.init(),$(".solutions-filter_meta").css("visibility","visible");let[e]=await window.fsAttributes.cmsfilter.getInstancePromise();e&&e.on("renderitems",async s=>{let n=$(s).map(function(){return $(this.element)}).get();await Promise.all(n.map(o)),await window.fsAttributes.cmsfilter.init()})}catch(e){console.error("Error during loading sequence:",e)}}]);$("[data-clear-button]").on("click",function(){document.querySelector('[fs-cmsfilter-element="clear"]').click()});$(document).on("change",'.solutions-filter_row-checkbox:not(.cc-small) input[type="checkbox"]',function(){this.checked||$(this).closest(".solutions-filter_row-checkbox").siblings(".solutions-filter_nest").find('input[type="checkbox"]:checked').trigger("click");let i=$(this).closest(".solutions-filter_row-checkbox").closest(".w-dyn-item").siblings().find('input[type="checkbox"]:checked').not(this),t=i.filter(function(){return $(this).closest(".solutions-filter_row-checkbox").hasClass("cc-small")}),e=i.filter(function(){return!$(this).closest(".solutions-filter_row-checkbox").hasClass("cc-small")});t.trigger("click"),e.trigger("click")});})();
