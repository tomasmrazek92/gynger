{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/solutions.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// Get Nested Filters\nfunction loadNestedFilters() {\n  const promises = [];\n\n  $('.solutions-filter_row-checkbox').each(function () {\n    let $this = $(this);\n    let slug = $this.attr('data-slug');\n\n    if (!slug) {\n      console.warn('Missing slug for element:', $this);\n      return;\n    }\n\n    const promise = new Promise((resolve) => {\n      $this\n        .siblings('.solutions-filter_nest')\n        .load(`/global-tags/${slug} .solutions-filter_row-inner`, function () {\n          resolve();\n        });\n    });\n\n    promises.push(promise);\n  });\n\n  return Promise.all(promises);\n}\n\n// Get nested tags for both initial and filtered items\nfunction getNestedTags(container) {\n  const promises = [];\n\n  container.find('.index_card').each(function () {\n    let $this = $(this);\n    let slug = $this.attr('data-slug');\n\n    if (!slug) return;\n\n    const promise = new Promise((resolve) => {\n      $this\n        .find('[data-nested-wrap]')\n        .load(`/solutions-internal/${slug} [data-nested-filters]`, function () {\n          resolve();\n        });\n    });\n\n    promises.push(promise);\n  });\n\n  return Promise.all(promises);\n}\n\n// Initialize FSAttributes in sequence\nwindow.fsAttributes = window.fsAttributes || [];\n-window.fsAttributes.cmsload.init();\n\n// 1. Initialize CMS Load first\nwindow.fsAttributes.push([\n  'cmsload',\n  async (listInstances) => {\n    console.log('1. CMS Load initialized');\n    const [listInstance] = listInstances;\n\n    // 2. Load all nested content\n    try {\n      console.log('2. Loading nested content...');\n      await loadNestedFilters();\n\n      if (listInstance && listInstance.items) {\n        const containers = $(listInstance.items)\n          .map(function () {\n            return $(this.element);\n          })\n          .get();\n\n        await Promise.all(containers.map(getNestedTags));\n      }\n\n      console.log('3. All nested content loaded, initializing CMS Filter');\n      // 3. Initialize CMS Filter after all content is loaded\n      await window.fsAttributes.cmsfilter.init();\n\n      $('.solutions-filter_meta').css('visibility', 'visible');\n\n      // Set up filter change handler\n      const [filterInstance] = await window.fsAttributes.cmsfilter.getInstancePromise();\n      if (filterInstance) {\n        filterInstance.on('renderitems', async (renderedItems) => {\n          const containers = $(renderedItems)\n            .map(function () {\n              return $(this.element);\n            })\n            .get();\n\n          await Promise.all(containers.map(getNestedTags));\n          await window.fsAttributes.cmsfilter.init();\n        });\n      }\n    } catch (error) {\n      console.error('Error during loading sequence:', error);\n    }\n  },\n]);\n\n// Clear Filters\n$('[data-clear-button]').on('click', function () {\n  document.querySelector('[fs-cmsfilter-element=\"clear\"]').click();\n});\n\n// Checkbox change handler\n$(document).on(\n  'change',\n  '.solutions-filter_row-checkbox:not(.cc-small) input[type=\"checkbox\"]',\n  function () {\n    if (!this.checked) {\n      $(this)\n        .closest('.solutions-filter_row-checkbox')\n        .siblings('.solutions-filter_nest')\n        .find('input[type=\"checkbox\"]:checked')\n        .trigger('click');\n    }\n\n    const checkboxes = $(this)\n      .closest('.solutions-filter_row-checkbox')\n      .closest('.w-dyn-item')\n      .siblings()\n      .find('input[type=\"checkbox\"]:checked')\n      .not(this);\n\n    const withCCSmall = checkboxes.filter(function () {\n      return $(this).closest('.solutions-filter_row-checkbox').hasClass('cc-small');\n    });\n\n    const withoutCCSmall = checkboxes.filter(function () {\n      return !$(this).closest('.solutions-filter_row-checkbox').hasClass('cc-small');\n    });\n\n    withCCSmall.trigger('click');\n    withoutCCSmall.trigger('click');\n  }\n);\n"],
  "mappings": "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",
  "names": []
}
